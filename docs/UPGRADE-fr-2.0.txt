==========================================================
=== Migration site de la Commune de Molenbeek - site18
==========================================================
http://www.molenbeek.be/
http://localhost:8080/site18/plone/
Molenbeek.fs

Procédure à effectuer sur la plateforme Plone 3.3.5
------------------------------------------------------

* update du code pour avoir le uninstall du theme

* supprimer les instances de twolanguage portlet dans la page d'accueil

* /site18/plone/portal_quickinstaller/manage_installProductsForm

* uninstall
 CacheSetup
 TinyMCE
 acmolenbeek.site
 collective.indexing
 twolanguageportlet

* /site18/plone/portal_skins/custom/manage_main remove content

* http://localhost:8090/site18/plone/portal_skins/manage_propertiesForm
  twolanguagesportlet
  cachesetup
  kupu_tests kupu kupu_plone
  linguafaq*

* http://localhost:8090/site18/plone/portal_css/manage_cssForm
  twolanguagesportlet.css
  kupu*.css
  

* /site18/plone/@@activate-expert-mode-for-fixing-persistent-utilities
  tout ce qui est relatif à collective.indexing :
  - <InterfaceClass collective.indexing.indexer.IPortalCatalogQueueProcessor> -> 3 occurences
  - <InterfaceClass collective.indexing.interfaces.IIndexingConfig> -> 2 occurences

* Copier la base de données Molenbeek.fs sur la plateforme Plone 4.1

Procédure à effectuer sur la plateforme Plone 4.1
-------------------------------------------------

* Verifier qu'on a ATContentTypes 2.15

* http://localhost:8401/site18/plone/@@plone-upgrade

* http://localhost:8401/site18/plone/portal_catalog/manage_catalogAdvanced
 Clear and Rebuild

* http://localhost:8401/site18/plone/@@blob-file-migration

* http://localhost:8401/site18/plone/@@blob-image-migration

      Exemple :
          Failed migration for object /site4/plone/berchem-sainte-agathe-nl/bestanden/espaces-publics (File -> File)
          ...
              raise CopyError(eNotSupported % escape(id))
          CopyError:
          ...
      ==> L'erreur est dûe par exemple à un fichier en langue "fr" au sein d'un dossier "nl".
          Il est nécessaire de corriger (ou supprimer) manuellement ces fichiers et de relancer la migration.

* http://localhost:8401/site18/plone/prefs_install_products_form

      - Mettre à jour "PloneFormGen"
      - Mettre à jour "Support des copies de travail (Iterate)"
      - Vous pouvez désinstaller "Kupu"
      - Installer/configurer les produits souhaités

    * Installation de la version Plone 4.1 de acmolenbeek.site.

    * Créer une alternative aux portlets "Two Languages Portlet" supprimés dans la première partie de la migration.

* http://localhost:8401/site18/plone/@@editing-controlpanel
* http://localhost:8401/site18/plone/portal_tinymce/@@tinymce-controlpanel
